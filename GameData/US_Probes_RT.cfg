// use vanguard-2 model which has deployable antennae, to avoid vanguard-1 antennae sticking through fairing horror.
@PART[vanguard-1]:AFTER[RN_US_Probes]:NEEDS[SCANsat]
{
	@MODEL
	{
	  	@model = RN_US_Probes/Vanguard/vanguard-2
	}

	// --- Animation ---
	MODULE
	{
		name = FSanimateGeneric
		animationName = Deploy
		startEventGUIName = Extend Antennae
		endEventGUIName = Fold Antennae
		toggleActionName = Toggle Antennae
		startDeployed = False
		// Animation Layer. If you have more than one animation on a part, this must be unique for each one in order for them to not interrupt each other. If the stock engine heat animation module is used, thatâ€™s probably on layer 0, so make this 1 or higher.
		layer = 1
		playAnimationOnEditorSpawn = False
		useActionEditorPopup = True
		// If you have more than one FSanimateGeneric on a part, give each a unique ID to. This makes the popup menu appear in a separate location for each module, and not steal each others windows. values: 0-9.
		moduleID = 0
	}
}

// RemoteTech for Raidernick's US probe cores
@PART[vanguard-1,vanguard-2,vanguard-3,tiros-1,grab-1]:AFTER[RN_US_Probes]:NEEDS[RemoteTech] // Vanguard 1 core
{
    !MODULE[ModuleDataTransmitter] {}
    
    %MODULE[ModuleRTAntenna]
    {
    	// passive connection during ascent to 30km
        %Mode0OmniRange = 30000
        // active connection required 30km-2000km
        %Mode1OmniRange = 2000000
        %EnergyCost = 0.01

        %DeployFxModules = 0 // antennas are fixed at present
        
        %TRANSMITTER
        {
            %PacketInterval = 0.18
            %PacketSize = 2
            %PacketResourceCost = 0.001
        }
    }

    @MODULE[ModuleAnimateGeneric,FSanimateGeneric]
    {
        %allowManualControl = false
    } 
    
    
    // allow remote control
    %MODULE[ModuleSPU] {}
}

// vanguard-2 was the first weather satellite, measuring cloud-cover distribution over the daylight portion of its orbit,
// and providing information on the density of the atmosphere.
@PART[vanguard-2]:AFTER[RN_US_Probes]:NEEDS[SCANsat]
{
	// very basic SCANsat module which simply shows the satellite's location on the map
	// to poorly simulate optical weather observation and a basic radio location beacon.
	MODULE
	{
		name = SCANsat
		sensorType = 0
		fov = 0
		min_alt = 0
		max_alt = 0
		best_alt = 0
		power = 0.05
		scanName = Optical scan
	}
	// barometer
	MODULE
	{
		name = ModuleEnviroSensor
		sensorType = PRES
	}
	MODULE
	{
		name = ModuleScienceExperiment
		experimentID = barometerScan
		experimentActionName = Atmospheric density
		resetActionName = Delete Data
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.5
		dataIsCollectable = True
		collectActionName = Take Data
		interactionRange = 1.2
		rerunnable = True
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}
}

// pioneer 0-2 lunar probe dipole antennas
@PART[pioneer_0_1_2]:AFTER[RN_US_Probes]:NEEDS[RemoteTech]
{
    !MODULE[ModuleDataTransmitter] {}
    
    @MODULE[ModuleAnimateGeneric]
    {
        %allowManualControl = false
    }
	%MODULE[ModuleRTAntenna] 
	{
		%Mode0OmniRange = 30000
		%Mode1OmniRange = 15000000
		%MaxQ = 6000
		%EnergyCost = 0.01
		%DeployFxModules = 0
		%TRANSMITTER
		{
			%PacketInterval = 1.0
			%PacketSize = 1
			%PacketResourceCost = 0.1
		}
	}
	%MODULE[ModuleSPU] {}  
}
